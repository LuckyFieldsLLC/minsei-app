import{r as x,j as e,l as m,e as h,f as g}from"./index-DWy39khm.js";const b=({title:n,children:d,onCopy:l,isCopied:c})=>{const[a,t]=x.useState(!0);return e.jsxs("div",{className:"border-b",children:[e.jsxs("div",{className:"w-full flex justify-between items-center p-4 bg-gray-50 hover:bg-gray-100",children:[e.jsxs("button",{onClick:()=>t(!a),className:"flex items-center text-left font-semibold text-gray-800",children:[e.jsx(m,{className:`h-5 w-5 mr-3 transition-transform ${a?"rotate-180":""}`}),e.jsx("span",{children:n})]}),e.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-blue-100 text-brand-blue rounded-md hover:bg-blue-200",children:[c?e.jsx(h,{className:"h-4 w-4 text-green-600"}):e.jsx(g,{className:"h-4 w-4"}),e.jsx("span",{children:c?"コピーしました":"この月の記録をコピー"})]})]}),a&&e.jsx("div",{className:"p-4 bg-white text-gray-700 space-y-4",children:d})]})},j=({monthlyActivities:n})=>{const[d,l]=x.useState(null),c=(t,s)=>{const i=`【${t} 活動記録】

`+s.map(r=>{const o=new Date(r.date);return`- ${`${o.getFullYear()}/${(o.getMonth()+1).toString().padStart(2,"0")}/${o.getDate().toString().padStart(2,"0")}`}: ${r.personName}様
  ${r.content.replace(/\n/g,`
  `)}`}).join(`

`);navigator.clipboard.writeText(i).then(()=>{l(t),setTimeout(()=>l(null),2e3)}).catch(r=>{console.error("Failed to copy text: ",r),alert("コピーに失敗しました。")})},a=Object.keys(n).sort((t,s)=>{const[i,r]=t.replace("年","-").replace("月","").split("-").map(Number),[o,p]=s.replace("年","-").replace("月","").split("-").map(Number);return o-i||p-r});return a.length===0?e.jsx("div",{className:"text-center py-10 text-gray-500 bg-white rounded-lg shadow",children:e.jsx("p",{children:"活動記録はありません。"})}):e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:a.map(t=>e.jsx(b,{title:t,onCopy:()=>c(t,n[t]),isCopied:d===t,children:n[t].map(s=>e.jsxs("div",{className:"pb-4 border-b last:border-b-0",children:[e.jsxs("div",{className:"flex justify-between items-baseline",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:s.personName}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.date).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]}),e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap mt-1",children:s.content})]},s.id))},t))})};export{j as default};
